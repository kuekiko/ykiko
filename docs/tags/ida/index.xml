<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>IDA on ykikoqAq</title>
        <link>https://ykiko.top/tags/ida/</link>
        <description>Recent content in IDA on ykikoqAq</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Fri, 31 Aug 2018 20:39:26 +0800</lastBuildDate><atom:link href="https://ykiko.top/tags/ida/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>IDA 动态调试.so 基本步骤</title>
        <link>https://ykiko.top/p/ida-%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95.so-%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4/</link>
        <pubDate>Fri, 31 Aug 2018 20:39:26 +0800</pubDate>
        
        <guid>https://ykiko.top/p/ida-%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95.so-%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4/</guid>
        <description>&lt;h2 id=&#34;ida-动态调试so-基本步骤&#34;&gt;IDA 动态调试.so 基本步骤&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;待补图&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;0x00-ida快捷键&#34;&gt;0x00 IDA快捷键&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Shirt+F12 字符串窗口&lt;/li&gt;
&lt;li&gt;F5大法好 反汇编&lt;/li&gt;
&lt;li&gt;Ctrl+S  查看so对应段的信息（非调试），快速定位so文件的内存地址（Debug）&lt;/li&gt;
&lt;li&gt;G 快速跳转到对应地址。s&lt;/li&gt;
&lt;li&gt;调试-F7单步进入调试、F8单步、F9运行&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;0x01-方法一&#34;&gt;0x01 方法一&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;获取运行Android_server。&lt;/p&gt;
&lt;p&gt;android_server文件放在IDA安装目录下的\dbgsrv目录下 注意版本的不同。&lt;/p&gt;
&lt;p&gt;之后只需 &lt;code&gt;push android_server /data/local/tmp/&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;之后&lt;code&gt;adb shell&lt;/code&gt;，&lt;code&gt;su&lt;/code&gt; ，&lt;code&gt;cd /data/local/tmp/&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;可能还得&lt;code&gt;chmod 755 android_server&lt;/code&gt; 才有权限运行。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;建立通信、attach进程。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;adb forward tcp:23946 tcp:23946&lt;/code&gt;命令。&lt;/p&gt;
&lt;p&gt;在IDA的Debugger选项中attach进程。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;加载so、找函数下断点&lt;/p&gt;
&lt;p&gt;双开IDA ，Ctrl+S找到so文件的基地址，另外一个IDA找到函数的相对地址。相加得到绝对地址。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;0x02-方法二&#34;&gt;0x02 方法二&lt;/h4&gt;
&lt;p&gt;无法加载so文件需要在加载之前断点。反调试之类&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Debug方式启动app。需要应用可调试开启&lt;/p&gt;
&lt;p&gt;&lt;code&gt;adb shell am start -D -n 包名/.MainActivity&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;方法一的1，2两步 勾选选项。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;jdb attach程序&lt;/p&gt;
&lt;p&gt;&lt;code&gt;jdb -connect com.sun.jdi.SocketAttach:hostname=127.0.0.1,port=8700&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开始调试 同上&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        
    </channel>
</rss>
